import{_ as s,c as n,o as a,a5 as e}from"./chunks/framework.BXMMEvbx.js";const p="/jiang225638.github.io/assets/excellentArticle/2024-07-03/640.webp",g=JSON.parse('{"title":"ä¸è¦å†å†™æ»¡å±importå¯¼å…¥å•¦ï¼","description":"","frontmatter":{},"headers":[],"relativePath":"excellentArticle/2024-07-03/index.md","filePath":"excellentArticle/2024-07-03/index.md","lastUpdated":1719993428000}'),l={name:"excellentArticle/2024-07-03/index.md"},r=e(`<h1 id="ä¸è¦å†å†™æ»¡å±importå¯¼å…¥å•¦" tabindex="-1">ä¸è¦å†å†™æ»¡å±importå¯¼å…¥å•¦ï¼ <a class="header-anchor" href="#ä¸è¦å†å†™æ»¡å±importå¯¼å…¥å•¦" aria-label="Permalink to &quot;ä¸è¦å†å†™æ»¡å±importå¯¼å…¥å•¦ï¼&quot;">â€‹</a></h1><h2 id="" tabindex="-1"><a class="header-anchor" href="#" aria-label="Permalink to &quot;&quot;">â€‹</a></h2><p>å¯†å¯†éº»éº»çš„importè¯­å¥ä¸ä»…ä»…æ˜¯ä¸€ç§è§†è§‰ä¸Šçš„å†²å‡»ï¼Œæ›´æ˜¯å¯¹ä»£ç ç»„ç»‡ç»“æ„çš„ä¸€ç§è€ƒéªŒã€‚</p><p>æˆ‘ä»¬æ˜¯å¦‚ä½•åšåˆ°è®©importâ€œå é¢†æ»¡å±â€œçš„äº†ï¼Œåˆè¯¥å¦‚ä½•ä¼˜é›…åœ°ç®¡ç†è¿™äº›importè¯­å¥å‘¢ï¼Ÿ</p><p>æœ¬æ–‡å°†ä»äº§ç”Ÿå¤§é‡importè¯­å¥çš„åŸå› ã€å¯èƒ½å¸¦æ¥çš„é—®é¢˜ä»¥åŠå¦‚ä½•ä¼˜åŒ–å’Œç®¡ç†importè¯­å¥å‡ ä¸ªè§’åº¦æ¥è¿›è¡Œæ¢è®¨ã€‚</p><h2 id="importæ˜¯å¦‚ä½•-å é¢†æ»¡å±-çš„" tabindex="-1"><strong>importæ˜¯å¦‚ä½•â€œå é¢†æ»¡å±â€œçš„ï¼Ÿ</strong> <a class="header-anchor" href="#importæ˜¯å¦‚ä½•-å é¢†æ»¡å±-çš„" aria-label="Permalink to &quot;**importæ˜¯å¦‚ä½•â€œå é¢†æ»¡å±â€œçš„ï¼Ÿ**&quot;">â€‹</a></h2><h3 id="æ‹’ç»-ä½¿ç”¨æ¨¡å—é‡å¯¼-re-export" tabindex="-1">*<strong>æ‹’ç»*ä½¿ç”¨æ¨¡å—é‡å¯¼ï¼ˆ*<em>Re-export*</em>ï¼‰</strong> <a class="header-anchor" href="#æ‹’ç»-ä½¿ç”¨æ¨¡å—é‡å¯¼-re-export" aria-label="Permalink to &quot;***æ‹’ç»\\*ä½¿ç”¨æ¨¡å—é‡å¯¼ï¼ˆ\\**Re-export\\**ï¼‰**&quot;">â€‹</a></h3><p>æ¨¡å—é‡å¯¼æ˜¯ä¸€ç§é€šç”¨çš„æŠ€æœ¯ã€‚åœ¨è…¾è®¯ã€å­—èŠ‚ã€é˜¿é‡Œç­‰å„å¤§å‚çš„ç»„ä»¶åº“ä¸­éƒ½æœ‰å¤§é‡ä½¿ç”¨ã€‚</p><p>å¦‚ï¼šå­—èŠ‚çš„<code>arco-design</code>ç»„ä»¶åº“ä¸­çš„ç»„ä»¶ï¼š<strong>github.com/arco-designâ€¦</strong>[1]</p><p>é€šè¿‡é‡å¯¼åœ¨<code>comonents/index.tsx</code>æ–‡ä»¶æš´éœ²æ‰€æœ‰ç»„ä»¶ï¼Œåœ¨ä½¿ç”¨æ—¶<strong>ä¸€ä¸ªimport</strong>å°±å¯ä»¥ä½¿ç”¨Nä¸ªç»„ä»¶äº†ã€‚</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>// ä¸ä½¿ç”¨é‡å¯¼</span></span>
<span class="line"><span>import Modal from &#39;@arco-design/web-react/es/Modal&#39;</span></span>
<span class="line"><span>import Checkbox from &#39;@arco-design/web-react/es/Checkbox&#39;</span></span>
<span class="line"><span>import Message from &#39;@arco-design/web-react/es/Message&#39;</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// ä½¿ç”¨æ¨¡å—é‡å¯¼</span></span>
<span class="line"><span>import { Modal, Checkbox, Message} from &#39;@arco-design/web-react&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><img src="`+p+`" alt="medium-zoom"></p><p><strong>Re-export</strong>ä¸€èˆ¬ç”¨äºæ”¶æ‹¢åŒç±»å‹çš„æ¨¡å—ã€ä¸€èˆ¬éƒ½æ˜¯ä»¥æ–‡ä»¶å¤¹ä¸ºå•ä½ï¼Œå¦‚<code>componentsã€routesã€utilsã€hooksã€stories</code>ç­‰éƒ½é€šè¿‡å„è‡ªçš„index.tsxæš´éœ²ï¼Œè¿™æ ·å°±èƒ½æå¤§ç¨‹åº¦çš„<strong>ç®€åŒ–å¯¼å…¥è·¯å¾„ã€æå‡ä»£ç å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§</strong>ã€‚</p><p><strong>Re-exportçš„å‡ ç§å½¢å¼</strong></p><h4 id="_1-ç›´æ¥é‡å¯¼å‡º" tabindex="-1"><strong>1. ç›´æ¥é‡å¯¼å‡º</strong> <a class="header-anchor" href="#_1-ç›´æ¥é‡å¯¼å‡º" aria-label="Permalink to &quot;**1. ç›´æ¥é‡å¯¼å‡º**&quot;">â€‹</a></h4><p>ç›´æ¥ä»å¦ä¸€ä¸ªæ¨¡å—é‡å¯¼å‡ºç‰¹å®šçš„æˆå‘˜ã€‚</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>export { foo, bar } from &#39;./moduleA&#39;;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_2-é‡å‘½åå¹¶é‡å¯¼å‡º-å«é»˜è®¤å¯¼å‡º" tabindex="-1"><strong>2. é‡å‘½åå¹¶é‡å¯¼å‡ºï¼ˆå«é»˜è®¤å¯¼å‡ºï¼‰</strong> <a class="header-anchor" href="#_2-é‡å‘½åå¹¶é‡å¯¼å‡º-å«é»˜è®¤å¯¼å‡º" aria-label="Permalink to &quot;**2. é‡å‘½åå¹¶é‡å¯¼å‡ºï¼ˆå«é»˜è®¤å¯¼å‡ºï¼‰**&quot;">â€‹</a></h4><p>ä»å¦ä¸€ä¸ªæ¨¡å—å¯¼å…¥æˆå‘˜ï¼Œå¯èƒ½ä¼šé‡å‘½åå®ƒä»¬ï¼Œç„¶åå†å¯¼å‡ºã€‚</p><p>é»˜è®¤å¯¼å‡ºä¹Ÿå¯ä»¥é‡å‘½åå¹¶é‡å¯¼å‡º</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>// é€šè¿‡exportå¯¼å‡ºçš„</span></span>
<span class="line"><span>export { foo as newFoo, bar as newBar } from &#39;./moduleA&#39;;</span></span>
<span class="line"><span>// é€šè¿‡export defaultå¯¼å‡ºçš„</span></span>
<span class="line"><span>export { default as ModuleDDefault } from &#39;./moduleD&#39;;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_3-é‡å¯¼å‡ºæ•´ä¸ªæ¨¡å—-ä¸å«é»˜è®¤å¯¼å‡º" tabindex="-1"><strong>3. é‡å¯¼å‡ºæ•´ä¸ªæ¨¡å—ï¼ˆä¸å«é»˜è®¤å¯¼å‡ºï¼‰</strong> <a class="header-anchor" href="#_3-é‡å¯¼å‡ºæ•´ä¸ªæ¨¡å—-ä¸å«é»˜è®¤å¯¼å‡º" aria-label="Permalink to &quot;**3. é‡å¯¼å‡ºæ•´ä¸ªæ¨¡å—ï¼ˆä¸å«é»˜è®¤å¯¼å‡ºï¼‰**&quot;">â€‹</a></h4><p>å°†å¦ä¸€ä¸ªæ¨¡å—çš„æ‰€æœ‰å¯¼å‡ºæˆå‘˜ä½œä¸ºå•ä¸ªå¯¹è±¡é‡å¯¼å‡ºã€‚ï¼ˆæ³¨æ„ï¼šæ•´ä¸ªå¯¼å‡ºä¸ä¼šåŒ…å«export defaultï¼‰</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>export * from &#39;./moduleA&#39;;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_4-æ”¶æ‹¢ã€ç»“åˆå¯¼å…¥ä¸é‡å¯¼å‡º" tabindex="-1"><strong>4. æ”¶æ‹¢ã€ç»“åˆå¯¼å…¥ä¸é‡å¯¼å‡º</strong> <a class="header-anchor" href="#_4-æ”¶æ‹¢ã€ç»“åˆå¯¼å…¥ä¸é‡å¯¼å‡º" aria-label="Permalink to &quot;**4. æ”¶æ‹¢ã€ç»“åˆå¯¼å…¥ä¸é‡å¯¼å‡º**&quot;">â€‹</a></h4><p>é¦–å…ˆå¯¼å…¥æ¨¡å—ä¸­çš„æˆå‘˜ï¼Œç„¶åä½¿ç”¨å®ƒä»¬ï¼Œæœ€åå°†å…¶é‡å¯¼å‡ºã€‚</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import { foo, bar } from &#39;./moduleA&#39;;</span></span>
<span class="line"><span>export { foo, bar };</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>é€šè¿‡è¿™äº›å½¢å¼ï¼Œæˆ‘ä»¬å¯ä»¥çµæ´»åœ°ç»„ç»‡å’Œç®¡ç†ä»£ç æ¨¡å—ã€‚æ¯ç§å½¢å¼éƒ½æœ‰å…¶é€‚ç”¨åœºæ™¯ï¼Œé€‰æ‹©åˆé€‚çš„æ–¹å¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ„å»ºå‡ºæ›´æ¸…æ™°ã€æ›´é«˜æ•ˆçš„ä»£ç ç»“æ„ã€‚</p><h3 id="ä»ä¸-ä½¿ç”¨require-context" tabindex="-1">*<strong>ä»ä¸*ä½¿ç”¨require.context</strong> <a class="header-anchor" href="#ä»ä¸-ä½¿ç”¨require-context" aria-label="Permalink to &quot;***ä»ä¸\\*ä½¿ç”¨require.context**&quot;">â€‹</a></h3><p><strong><code>require.context</code></strong> æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„åŠŸèƒ½ï¼Œå®ƒå…è®¸æˆ‘ä»¬åŠ¨æ€åœ°å¯¼å…¥ä¸€ç»„æ¨¡å—ï¼Œè€Œä¸éœ€è¦æ˜¾å¼åœ°ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°å¯¼å…¥ã€‚</p><p>åªéœ€ä¸€æ®µä»£ç è®©ä½ <strong>åªç®¡å¢åŠ æ–‡ä»¶ã€ç»„ä»¶</strong>,å°†è‡ªåŠ¨æ”¶æ‹¢é‡å¯¼ã€‚</p><p>åœ¨é¡¹ç›®è·¯ç”±ã€çŠ¶æ€ç®¡ç†ç­‰å›ºå®šåœºæ™¯ä¸‹<strong>æå…¶å¥½ä½¿</strong>ï¼ˆèƒ½ææ•ˆã€å°½å¯èƒ½é¿å…äº†å¢åŠ ä¸€ä¸ªé…ç½®è¦åŠ¨Nä¸ªæ–‡ä»¶çš„æƒ…å†µï¼‰</p><p><strong>å°¤å…¶æ˜¯åœ¨é…ç½®è·¯ç”±æ—¶</strong>ã€äº§ç”Ÿå¤§æ‰¹é‡çš„importï¼ˆå¤šå°‘ä¸ªé¡µé¢å°±å¾—å¯¼å…¥å¤šå°‘ä¸ªimportğŸ˜…ï¼‰</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>// ä¸ä½¿ç”¨require.context</span></span>
<span class="line"><span>import A form &#39;@/pages/A&#39;</span></span>
<span class="line"><span>import B form &#39;@/pages/B&#39;</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// routes/index.tsæ–‡ä»¶ç»Ÿä¸€å¤„ç†</span></span>
<span class="line"><span>// åˆ›å»ºä¸€ä¸ªcontextæ¥å¯¼å…¥routesç›®å½•ä¸‹æ‰€æœ‰çš„ .ts æ–‡ä»¶</span></span>
<span class="line"><span>const routesContext = require.context(&#39;./routes&#39;, false, /.ts$/);</span></span>
<span class="line"><span>const routes = [];</span></span>
<span class="line"><span>// éå† context ä¸­çš„æ¯ä¸ªæ¨¡å—</span></span>
<span class="line"><span>routesContext.keys().forEach(modulePath =&gt; {</span></span>
<span class="line"><span>  // è·å–æ¨¡å—çš„å¯¼å‡º</span></span>
<span class="line"><span>  const route = routesContext(modulePath);</span></span>
<span class="line"><span>  // è·å–ç»„ä»¶åç§°ã€å¦‚æœéœ€è¦è¯ã€‘ï¼Œä¾‹å¦‚ï¼šä» &quot;./Header.ts&quot; æå– &quot;Header&quot;</span></span>
<span class="line"><span>  // const routeName = modulePath.replace(/^./(.*).\\w+$/, &#39;$1&#39;);</span></span>
<span class="line"><span>  // å°†ç»„ä»¶å­˜å‚¨åœ¨ç»„ä»¶å¯¹è±¡ä¸­</span></span>
<span class="line"><span>  routes.push(route.default || route)</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default routes;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>åœ¨å¤§é¡¹ç›®ã€å¤šè·¯ç”±çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ <strong><code>require.context</code></strong> åœ¨å¤„ç†è·¯ç”±å¯¼å…¥ä¸Š<strong>å¤§æœ‰å¯ä¸º</strong>ã€‚</p><h3 id="ä»ä¸-ä½¿ç”¨importåŠ¨æ€å¯¼å…¥" tabindex="-1">*<strong>ä»ä¸*ä½¿ç”¨importåŠ¨æ€å¯¼å…¥</strong> <a class="header-anchor" href="#ä»ä¸-ä½¿ç”¨importåŠ¨æ€å¯¼å…¥" aria-label="Permalink to &quot;***ä»ä¸\\*ä½¿ç”¨importåŠ¨æ€å¯¼å…¥**&quot;">â€‹</a></h3><p>åŠ¨æ€importä¹Ÿèƒ½å®ç°ç±»ä¼¼<code>require.context</code>çš„åŠŸèƒ½ã€åŠ¨æ€æ”¶æ‹¢æ¨¡å—ã€‚å…³äº<code>import</code>åŠ¨æ€å¯¼å…¥çš„æ›´å¤šå†…å®¹å¯ä»¥çœ‹ä¸‹è¿™ç¯‡æ–‡ç« å†…çš„ä»‹ç»**ã€Šå¦‚ä½•åœ¨Vite5â•Reactâ•Tsé¡¹ç›®ä¸­ä¼˜é›…çš„ä½¿ç”¨Mockæ•°æ®ï¼Ÿã€‹**[2]</p><h3 id="å¯¹provideplugin-ä¸æ„Ÿå…´è¶£" tabindex="-1"><strong>å¯¹ProvidePlugin*ä¸æ„Ÿå…´è¶£*</strong> <a class="header-anchor" href="#å¯¹provideplugin-ä¸æ„Ÿå…´è¶£" aria-label="Permalink to &quot;**å¯¹ProvidePlugin\\*ä¸æ„Ÿå…´è¶£\\***&quot;">â€‹</a></h3><p><code>webpack.ProvidePlugin</code>æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œ<strong>ä½†ä¹Ÿä¸èƒ½æ»¥ç”¨</strong>ã€‚</p><p>é¡¹ç›®ä¸­ç”¨åˆ°çš„å˜é‡/å‡½æ•°/åº“æˆ–å·¥å…·ï¼Œåªè¦é…ç½®åå°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨äº†ã€‚</p><p><strong>ç›¸ä¿¡æˆ‘--çœ‹å®Œè¿™ä¸ªç¤ºä¾‹ï¼Œå¦‚æœä½ æ²¡ç”¨è¿‡ã€é‚£ä½ è‚¯å®šä¼šè¿«ä¸åŠå¾…çš„æƒ³è¦å°è¯•äº†ğŸ¤—</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>const webpack = require(&#39;webpack&#39;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>module.exports = {</span></span>
<span class="line"><span>  // å…¶ä»–é…ç½®...</span></span>
<span class="line"><span>  plugins: [</span></span>
<span class="line"><span>    new webpack.ProvidePlugin({</span></span>
<span class="line"><span>      React: &#39;react&#39;,</span></span>
<span class="line"><span>      _: &#39;lodash&#39;,</span></span>
<span class="line"><span>      dayjs: &#39;dayjs&#39;,</span></span>
<span class="line"><span>      // å‡è®¾é¡¹ç›®ä¸­è‡ªå·±å®šä¹‰çš„utils.jsåœ¨srcç›®å½•ä¸‹</span></span>
<span class="line"><span>      Utils: path.resolve(__dirname, &#39;src/utils.js&#39;)</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>  ]</span></span>
<span class="line"><span>  // å…¶ä»–é…ç½®...</span></span>
<span class="line"><span>};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>ç°åœ¨ä½ å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ dayjsã€lodashã€Utilsç­‰ï¼Œè€Œä¸éœ€è¦å¯¼å…¥å®ƒ</strong></p><p>å°ç»“ï¼š</p><ul><li>webpack.ProvidePluginæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬å‡å°‘é‡å¤çš„å¯¼å…¥è¯­å¥ï¼Œä½¿ä»£ç æ›´åŠ å¹²å‡€æ•´æ´ã€‚ä½†æ˜¯ï¼Œå®ƒä¸ä¼šå‡å°‘æ„å»ºå¤§å°ï¼Œå› ä¸ºè¿™äº›åº“ä»ç„¶ä¼šè¢«åŒ…å«åœ¨ä½ çš„æœ€ç»ˆæ‰“åŒ…æ–‡ä»¶ä¸­ã€‚æ­£ç¡®ä½¿ç”¨è¿™ä¸ªæ’ä»¶å¯ä»¥<strong>æé«˜å¼€å‘æ•ˆç‡</strong>ï¼Œä½†éœ€è¦è°¨æ…ä½¿ç”¨ï¼Œä»¥é¿å…éšè—ä¾èµ–å…³ç³»ï¼Œå¯¼è‡´ä»£ç éš¾ä»¥ç†è§£å’Œç»´æŠ¤ã€‚</li><li>å¯¹äºéœ€è¦æŒ‰éœ€åŠ è½½çš„æ¨¡å—æˆ–ç»„ä»¶ï¼Œè€ƒè™‘ä½¿ç”¨åŠ¨æ€ import() è¯­æ³•ï¼Œè¿™æ ·å¯ä»¥æ›´æœ‰æ•ˆåœ°æ§åˆ¶ä»£ç çš„åŠ è½½æ—¶æœºå’Œå‡å°æ‰“åŒ…ä½“ç§¯ã€‚</li><li>è°¨æ…ä½¿ç”¨ ProvidePluginï¼Œåªä¸ºé‚£äº›ç¡®å®éœ€è¦åœ¨å¤šä¸ªåœ°æ–¹ä½¿ç”¨çš„æ¨¡å—é…ç½®å…¨å±€å˜é‡ï¼Œä»¥é¿å…ä¸å¿…è¦çš„ä»£ç æ‰“åŒ…ã€‚</li></ul><p>å¦å¤–ï¼Œå¦‚æœæ˜¯<code>Vite</code>é¡¹ç›®å¯ä»¥ä½¿ç”¨<code>vite-plugin-inject</code>ä»£æ›¿<code>ProvidePlugin</code>çš„åŠŸèƒ½</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>// é…ç½®</span></span>
<span class="line"><span>import inject from &#39;vite-plugin-inject&#39;; // å®æµ‹æš‚ä¸å¯ç”¨ï¼Œæœ‰æ›¿ä»£æ–¹æ¡ˆå†æ›´æ–°</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>plugins: [</span></span>
<span class="line"><span>inject({</span></span>
<span class="line"><span>  // é”®æ˜¯ä½ æƒ³è¦æä¾›çš„å…¨å±€å˜é‡ï¼Œå€¼æ˜¯ä½ è¦æä¾›çš„æ¨¡å—</span></span>
<span class="line"><span>  dayjs: &#39;dayjs&#39;, // ä¾‹å¦‚ï¼Œè¿™å°†åœ¨å…¨å±€èŒƒå›´å†…æä¾› &#39;dayjs&#39;ï¼Œå¯ä»¥é€šè¿‡ dayjs è®¿é—®</span></span>
<span class="line"><span>  // ä½ å¯ä»¥ç»§ç»­æ·»åŠ å…¶ä»–éœ€è¦å…¨å±€æä¾›çš„æ¨¡å—</span></span>
<span class="line"><span>}),</span></span>
<span class="line"><span>]</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>å¦‚æœä½¿ç”¨äº†TSï¼Œè®°å¾—é…ç½®ä¸‹ç±»å‹ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>// globals.d.tsæ–‡ä»¶ å¤„ç†å…¨å±€ç±»å‹</span></span>
<span class="line"><span>import dayjs from &#39;dayjs&#39;;</span></span>
<span class="line"><span>declare global {</span></span>
<span class="line"><span>  const dayjs: typeof dayjs;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// tsconfig.jsonæ–‡ä»¶ ä¹Ÿé…ç½®ä¸€ä¸‹</span></span>
<span class="line"><span>{ </span></span>
<span class="line"><span>&quot;compilerOptions&quot;: { </span></span>
<span class="line"><span>// ç¼–è¯‘é€‰é¡¹... </span></span>
<span class="line"><span>}, </span></span>
<span class="line"><span>&quot;include&quot;: [ &quot;src/**/*&quot;, &quot;globals.d.ts&quot; // ç¡®ä¿ TypeScript åŒ…æ‹¬è¿™ä¸ªæ–‡ä»¶ ] </span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="å¤§é‡-ä½¿ç”¨typescriptå¯¼å…¥ç±»å‹" tabindex="-1">*<strong>å¤§é‡*ä½¿ç”¨Typescriptå¯¼å…¥ç±»å‹</strong> <a class="header-anchor" href="#å¤§é‡-ä½¿ç”¨typescriptå¯¼å…¥ç±»å‹" aria-label="Permalink to &quot;***å¤§é‡\\*ä½¿ç”¨Typescriptå¯¼å…¥ç±»å‹**&quot;">â€‹</a></h3><p><strong>åœ¨TSé¡¹ç›®ä¸­ï¼Œæ»¡å±importè‚¯å®šå°‘ä¸äº†TSçš„ä»½</strong>ã€‚ä½†å¦‚æœåˆç†é…ç½®ï¼Œå¿…å®šèƒ½æ€¥å‰§å‡å°‘importçš„å¯¼å…¥</p><p>è¿™é‡Œä»‹ç»ä¸‹è‡ªå·±åœ¨é¡¹ç›®ä¸­ä½¿ç”¨æœ€å¤šçš„æ–¹æ³•ï¼šTSå‘½åç©ºé—´ã€‚æœ‰äº†å®ƒæ—¢èƒ½è®©ç±»å‹æ¨¡å—åŒ–ï¼Œæ›´è¿‡åˆ†çš„æ˜¯åœ¨ä½¿ç”¨æ—¶å¯ä»¥ç›´æ¥ä¸å¯¼å…¥ç±»å‹ğŸ˜…ã€‚</p><p><strong>åŒæ ·ï¼Œå®ƒå’Œ<code>ProvidePlugin</code>ä¸€æ ·ç‚¸è£‚ï¼Œå¯ä»¥ç›´æ¥ç­æ‰<code>import</code>å¯¼å…¥ã€‚</strong></p><hr><p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>// accout.ts</span></span>
<span class="line"><span>declare namespace IAccount {</span></span>
<span class="line"><span>  type IList&lt;T = IItem&gt; = {</span></span>
<span class="line"><span>    count: number</span></span>
<span class="line"><span>    list: T[]</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  interface IUser {</span></span>
<span class="line"><span>    id: number;</span></span>
<span class="line"><span>    name: string;</span></span>
<span class="line"><span>    avatar: string;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// ä»»æ„æ–‡ä»¶ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€å¯¼å…¥</span></span>
<span class="line"><span>const [list, setList] = useState&lt;IAccount.IList|undefined&gt;();</span></span>
<span class="line"><span>const [user, setUser] = useState&lt;IAccount.IUser|undefined&gt;();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>æ³¨æ„âš ï¸eslintå¯èƒ½éœ€è¦é…ç½®ä¸‹å¼€å¯ğŸ”›ä½¿ç”¨å‘½åç©ºé—´</p><h3 id="ã€Šä¸å»å……åˆ†-åˆ©ç”¨bableç‰¹æ€§ã€‹" tabindex="-1">*<strong>ã€Šä¸å»å……åˆ†*åˆ©ç”¨bableç‰¹æ€§ã€‹</strong> <a class="header-anchor" href="#ã€Šä¸å»å……åˆ†-åˆ©ç”¨bableç‰¹æ€§ã€‹" aria-label="Permalink to &quot;***ã€Šä¸å»å……åˆ†\\*åˆ©ç”¨bableç‰¹æ€§ã€‹**&quot;">â€‹</a></h3><p><code>React</code>ä¼¼ä¹ä¹Ÿæ„è¯†åˆ°ä¸å¦¥ï¼šåœ¨17ç‰ˆæœ¬ä¹‹å‰ï¼Œç”±äº<code>jsx</code>çš„ç‰¹æ€§æ¯ä¸ªç»„ä»¶éƒ½éœ€è¦æ˜æ–‡å¼•å…¥<code>import React from &#39;react&#39;</code>ï¼Œä½†åœ¨è¿™ä¹‹å<strong>ç”±ç¼–è¯‘å™¨è‡ªè¡Œè½¬æ¢ï¼Œæ— éœ€å¼•å…¥ React</strong>ã€‚å¦‚æœä½ ä½¿ç”¨çš„<strong>React17</strong>ä¹‹å‰çš„ç‰ˆæœ¬ä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹babelè¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œæ›´å¤šç»†èŠ‚å¯å‚è€ƒ<strong>Reactå®˜ç½‘</strong>[3]ï¼Œæœ‰éå¸¸è¯¦ç»†çš„è¯´æ˜ã€‚ï¼ˆä¹Ÿæä¾›äº†è‡ªåŠ¨å»é™¤å¼•å…¥çš„è„šæœ¬ï¼‰</p><h3 id="å…¶å®ƒ" tabindex="-1"><strong>å…¶å®ƒ</strong> <a class="header-anchor" href="#å…¶å®ƒ" aria-label="Permalink to &quot;**å…¶å®ƒ**&quot;">â€‹</a></h3><h4 id="_1-è®¾ç½®webpackã€tsåˆ«åã€‚" tabindex="-1"><strong>1. è®¾ç½®webpackã€tsåˆ«åã€‚</strong> <a class="header-anchor" href="#_1-è®¾ç½®webpackã€tsåˆ«åã€‚" aria-label="Permalink to &quot;**1. è®¾ç½®webpackã€tsåˆ«åã€‚**&quot;">â€‹</a></h4><p>æ—¢èƒ½ç¼©çŸ­å¯¼å…¥è·¯å¾„ã€ä¹Ÿèƒ½æ›´æœ‰è¯­ä¹‰åŒ–</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>resolve: {</span></span>
<span class="line"><span>  alias: {</span></span>
<span class="line"><span>    &quot;@src&quot;: path.resolve(__dirname, &#39;src/&#39;),</span></span>
<span class="line"><span>    &quot;@components&quot;: path.resolve(__dirname, &#39;src/components/&#39;),</span></span>
<span class="line"><span>    &quot;@utils&quot;: path.resolve(__dirname, &#39;src/utils/&#39;)</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// ä½¿ç”¨åˆ«åå‰</span></span>
<span class="line"><span>import MyComponent from &#39;../../../../components/MyComponent&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// ä½¿ç”¨åˆ«åå</span></span>
<span class="line"><span>import MyComponent from &#39;@components/MyComponent&#39;;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="_2-è®¾ç½®æ ¼å¼åŒ–prettier-printwidth" tabindex="-1"><strong>2. è®¾ç½®æ ¼å¼åŒ–prettier.printWidth</strong> <a class="header-anchor" href="#_2-è®¾ç½®æ ¼å¼åŒ–prettier-printwidth" aria-label="Permalink to &quot;**2. è®¾ç½®æ ¼å¼åŒ–prettier.printWidth**&quot;">â€‹</a></h4><p>å€¼è®¾ç½®çš„å¤ªå°å¯èƒ½ä¼šå¯¼è‡´é¢‘ç¹æ¢è¡Œã€ç»™å¤Ÿéš¾ä»¥é˜…è¯»ã€‚å…¶å€¼åœ¨120è¾ƒä¸ºåˆé€‚å§ï¼ˆçœ‹å›¢é˜Ÿå®é™…çš„ä½¿ç”¨æƒ…å†µï¼‰ã€‚</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>{</span></span>
<span class="line"><span>  &quot;printWidth&quot;: 120,</span></span>
<span class="line"><span>  ...</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_3-æŒ‰æ¡ä»¶åŠ¨æ€å…¨å±€åŠ è½½ç»„ä»¶" tabindex="-1"><strong>3. æŒ‰æ¡ä»¶åŠ¨æ€å…¨å±€åŠ è½½ç»„ä»¶</strong> <a class="header-anchor" href="#_3-æŒ‰æ¡ä»¶åŠ¨æ€å…¨å±€åŠ è½½ç»„ä»¶" aria-label="Permalink to &quot;**3. æŒ‰æ¡ä»¶åŠ¨æ€å…¨å±€åŠ è½½ç»„ä»¶**&quot;">â€‹</a></h4><p>åœ¨å…¥å£æ–‡ä»¶å¼•å…¥å…¨å±€ç»„ä»¶ï¼Œä½¿ç”¨require.ensureæˆ–importæ ¹æ®æ¡ä»¶åŠ¨æ€åŠ è½½ç»„ä»¶ï¼Œæ—¢èƒ½ä¾¿äºç»´æŠ¤ã€å‡å°‘å¼•ç”¨ã€ä¹Ÿèƒ½å‡å°‘æ€§èƒ½å¼€é”€</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>// å¼‚æ­¥åŠ è½½å…¨å±€å¼¹çª—ï¼Œå‡å°‘æ€§èƒ½å¼€é”€</span></span>
<span class="line"><span>Vue.component(&#39;IMessage&#39;, function (resolve) {</span></span>
<span class="line"><span>  // æŒ‡å®šæ¡ä»¶å…¨å±€åŠ è½½ï¼Œæ— éœ€åœ¨å…·ä½“é¡µé¢ä¸­å¼•ç”¨</span></span>
<span class="line"><span>  if (/^\\/pagea|pageb/.test(location.pathname)) {</span></span>
<span class="line"><span>  require.ensure([&#39;./components/message/index.vue&#39;], function() {</span></span>
<span class="line"><span>    resolve(require(&#39;./components/message/index.vue&#39;));</span></span>
<span class="line"><span>  });</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_4-babel-plugin-importçš„ä½¿ç”¨" tabindex="-1"><strong>4. babel-plugin-importçš„ä½¿ç”¨</strong> <a class="header-anchor" href="#_4-babel-plugin-importçš„ä½¿ç”¨" aria-label="Permalink to &quot;**4. babel-plugin-importçš„ä½¿ç”¨**&quot;">â€‹</a></h4><p><code>babel-plugin-import</code>ä¸æ˜¯ç›´æ¥å‡å°‘ import çš„æ•°é‡ï¼Œè€Œæ˜¯é€šè¿‡ä¼˜åŒ– import è¯­å¥æ¥å‡å°‘æ‰“åŒ…ä½“ç§¯ï¼Œæé«˜é¡¹ç›®çš„åŠ è½½æ€§èƒ½ã€‚è¿™å¯¹äºä½¿ç”¨äº†å¤§å‹ç¬¬ä¸‰æ–¹åº“çš„é¡¹ç›®æ¥è¯´æ˜¯ä¸€ä¸ªéå¸¸æœ‰ä»·å€¼çš„ä¼˜åŒ–æ‰‹æ®µã€‚</p><p>ä»¥<code>arco-design</code>ä¸ºä¾‹ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>// .bablercé…ç½®</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>  &quot;plugins&quot;: [</span></span>
<span class="line"><span>    [&quot;import&quot;, {</span></span>
<span class="line"><span>      &quot;libraryName&quot;: &quot;@arco-design/web-react&quot;,</span></span>
<span class="line"><span>      &quot;libraryDirectory&quot;: &quot;es&quot;, // æˆ–è€… &quot;lib&quot;ï¼Œä¾èµ–äºå…·ä½“ä½¿ç”¨çš„æ¨¡å—ç³»ç»Ÿ</span></span>
<span class="line"><span>      &quot;style&quot;: true // åŠ è½½ CSS</span></span>
<span class="line"><span>    }, &quot;@arco-design/web-react&quot;]</span></span>
<span class="line"><span>  ]</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>// è¿™ä¸ªé…ç½®å‘Šè¯‰ babel-plugin-import è‡ªåŠ¨å°†ç±»ä¼¼ import { Button } from &#39;@arco-design/web-react&#39;; çš„å¯¼å…¥è¯­å¥è½¬æ¢ä¸ºæŒ‰éœ€å¯¼å…¥çš„å½¢å¼ï¼Œå¹¶ä¸”åŠ è½½å¯¹åº”çš„ CSS æ–‡ä»¶ã€‚</span></span>
<span class="line"><span>// ä¸šåŠ¡ä¸­ä½¿ç”¨</span></span>
<span class="line"><span>import { Button } from &#39;@arco-design/web-react&#39;;</span></span>
<span class="line"><span>// å°†è¢«bableç¼–è¯‘æˆ</span></span>
<span class="line"><span>import Button from &#39;@arco-design/web-react/es/button&#39;;</span></span>
<span class="line"><span>import &#39;@arco-design/web-react/es/button/style/css.js&#39;; // å¦‚æœ style é…ç½®ä¸º true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="æ€»ç»“" tabindex="-1"><strong>æ€»ç»“</strong> <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to &quot;**æ€»ç»“**&quot;">â€‹</a></h2><p>å¯¼è‡´importå æ»¡å…¨å±çš„åŸå› æœ‰å¾ˆå¤šã€‚ä½†ä¸ç”¨<code>æ¨¡å—é‡å¯¼ã€require.contextã€importåŠ¨æ€å¯¼å…¥ã€webpack.ProvidePlugin</code>ç­‰æ‰‹æ®µï¼Œä¸€å®šä¼šè®©æˆ‘ä»¬å†™å‡ºæ»¡å±çš„importğŸ˜‚ğŸ¤£ğŸ˜…ğŸ˜‡ã€‚</p><p>åªæœ‰æƒ³ä¸åˆ°çš„ï¼Œæ²¡æœ‰åšä¸åˆ°çš„ã€‚åªè¦ä½ æƒ³ã€ç›¸ä¿¡å°±ä¸€å®šèƒ½å¦‚æ„¿ä»¥å¿ã€‚</p><p><strong>æ ‡æ³¨</strong></p><p>[1]</p><p><a href="https://github.com/arco-design/arco-design/blob/main/components/index.tsx" target="_blank" rel="noreferrer">https://github.com/arco-design/arco-design/blob/main/components/index.tsx</a></p><p>[2]</p><p><a href="https://juejin.cn/post/7344571292354838591" target="_blank" rel="noreferrer">https://juejin.cn/post/7344571292354838591</a></p><p>[3]</p><p><a href="https://zh-hans.legacy.reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html" target="_blank" rel="noreferrer">https://zh-hans.legacy.reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html</a></p>`,83),i=[r];function t(o,c,b,u,d,m){return a(),n("div",null,i)}const v=s(l,[["render",t]]);export{g as __pageData,v as default};
