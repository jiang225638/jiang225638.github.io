<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ææ‡‚ Vue3 ä¸­çš„å„ç§ ref: toRef,toRefs,isRef,unref... | é¦’å¤´é¢åŒ…éƒ½æƒ³è¦</title>
    <meta name="description" content="å•¥éƒ½ä¸ä¼šï¼Œåªæƒ³èººå¹³ï¼Œå¬å¬éŸ³ä¹ï¼Œæ™’æ™’å¤ªé˜³">
    <meta name="generator" content="VitePress v1.3.2">
    <link rel="preload stylesheet" href="/jiang225638.github.io/assets/style.DJBtC07e.css" as="style">
    
    <script type="module" src="/jiang225638.github.io/assets/app.Crao43Hh.js"></script>
    <link rel="preload" href="/jiang225638.github.io/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/jiang225638.github.io/assets/chunks/theme.CRND4dpS.js">
    <link rel="modulepreload" href="/jiang225638.github.io/assets/chunks/framework.BXMMEvbx.js">
    <link rel="modulepreload" href="/jiang225638.github.io/assets/excellentArticle_2024-04-16_index.md.lpL5f8Mi.lean.js">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/favicon.ico">
    <link rel="mask-icon" href="/favicon.ico" color="#3eaf7c">
    <meta name="msapplication-TileImage" content="/favicon.ico">
    <meta name="msapplication-TileColor" content="#000000">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-f9cdd47e><!--[--><!--]--><!--[--><span tabindex="-1" data-v-8ac21b21></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-8ac21b21> Skip to content </a><!--]--><!----><header class="VPNav" data-v-f9cdd47e data-v-782066e0><div class="VPNavBar has-sidebar top" data-v-782066e0 data-v-ac6856b8><div class="wrapper" data-v-ac6856b8><div class="container" data-v-ac6856b8><div class="title" data-v-ac6856b8><div class="VPNavBarTitle has-sidebar" data-v-ac6856b8 data-v-51ab8338><a class="title" href="/jiang225638.github.io/" data-v-51ab8338><!--[--><!--]--><!--[--><img class="VPImage logo" src="/jiang225638.github.io/logo1.gif" alt data-v-608ef7ed><!--]--><span data-v-51ab8338>é¦’å¤´é¢åŒ…éƒ½æƒ³è¦</span><!--[--><!--]--></a></div></div><div class="content" data-v-ac6856b8><div class="content-body" data-v-ac6856b8><!--[--><!--]--><div class="VPNavBarSearch search" data-v-ac6856b8><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ac6856b8 data-v-ce7a621a><span id="main-nav-aria-label" class="visually-hidden" data-v-ce7a621a> Main Navigation </span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-ce7a621a data-v-3673c842><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-3673c842><span class="text" data-v-3673c842><!----><span data-v-3673c842>çœ‹ç©¿å°˜ä¸–</span><span class="vpi-chevron-down text-icon" data-v-3673c842></span></span></button><div class="menu" data-v-3673c842><div class="VPMenu" data-v-3673c842 data-v-04e2d85f><div class="items" data-v-04e2d85f><!--[--><!--[--><div class="VPMenuLink" data-v-04e2d85f data-v-e198e5bd><a class="VPLink link" href="/jiang225638.github.io/js/" data-v-e198e5bd><!--[-->js<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-04e2d85f data-v-e198e5bd><a class="VPLink link" href="/jiang225638.github.io/ts/" data-v-e198e5bd><!--[-->TS<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-04e2d85f data-v-e198e5bd><a class="VPLink link" href="/jiang225638.github.io/css/" data-v-e198e5bd><!--[-->css<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-04e2d85f data-v-e198e5bd><a class="VPLink link" href="/jiang225638.github.io/html" data-v-e198e5bd><!--[-->html<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-04e2d85f data-v-e198e5bd><a class="VPLink link" href="/jiang225638.github.io/vue/" data-v-e198e5bd><!--[-->vue<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-04e2d85f data-v-e198e5bd><a class="VPLink link" href="/jiang225638.github.io/react/" data-v-e198e5bd><!--[-->react<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-04e2d85f data-v-e198e5bd><a class="VPLink link" href="/jiang225638.github.io/nestjs/base/" data-v-e198e5bd><!--[-->nestjs<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-04e2d85f data-v-e198e5bd><a class="VPLink link" href="/jiang225638.github.io/java/2024-06-26/" data-v-e198e5bd><!--[-->JAVA<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-ce7a621a data-v-3673c842><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-3673c842><span class="text" data-v-3673c842><!----><span data-v-3673c842>é˜…å°½ç¹å</span><span class="vpi-chevron-down text-icon" data-v-3673c842></span></span></button><div class="menu" data-v-3673c842><div class="VPMenu" data-v-3673c842 data-v-04e2d85f><div class="items" data-v-04e2d85f><!--[--><!--[--><div class="VPMenuLink" data-v-04e2d85f data-v-e198e5bd><a class="VPLink link" href="/jiang225638.github.io/excellentArticle/" data-v-e198e5bd><!--[-->è¯»è¿‡çš„ç²¾å½©<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-ac6856b8 data-v-028adad0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-028adad0 data-v-4e0653b3 data-v-d1d2f4ae><span class="check" data-v-d1d2f4ae><span class="icon" data-v-d1d2f4ae><!--[--><span class="vpi-sun sun" data-v-4e0653b3></span><span class="vpi-moon moon" data-v-4e0653b3></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-ac6856b8 data-v-b5ded15b data-v-3673c842><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-3673c842><span class="vpi-more-horizontal icon" data-v-3673c842></span></button><div class="menu" data-v-3673c842><div class="VPMenu" data-v-3673c842 data-v-04e2d85f><!----><!--[--><!--[--><!----><div class="group" data-v-b5ded15b><div class="item appearance" data-v-b5ded15b><p class="label" data-v-b5ded15b>å¤–è§‚</p><div class="appearance-action" data-v-b5ded15b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-b5ded15b data-v-4e0653b3 data-v-d1d2f4ae><span class="check" data-v-d1d2f4ae><span class="icon" data-v-d1d2f4ae><!--[--><span class="vpi-sun sun" data-v-4e0653b3></span><span class="vpi-moon moon" data-v-4e0653b3></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ac6856b8 data-v-29b145e9><span class="container" data-v-29b145e9><span class="top" data-v-29b145e9></span><span class="middle" data-v-29b145e9></span><span class="bottom" data-v-29b145e9></span></span></button></div></div></div></div><div class="divider" data-v-ac6856b8><div class="divider-line" data-v-ac6856b8></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-f9cdd47e data-v-feec379b><div class="container" data-v-feec379b><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-feec379b><span class="vpi-align-left menu-icon" data-v-feec379b></span><span class="menu-text" data-v-feec379b>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-feec379b data-v-0e5f78da><button data-v-0e5f78da>è¿”å›é¡¶éƒ¨</button><!----></div></div></div><aside class="VPSidebar" data-v-f9cdd47e data-v-9d5bee9b><div class="curtain" data-v-9d5bee9b></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-9d5bee9b><span class="visually-hidden" id="sidebar-aria-label" data-v-9d5bee9b> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-405a2b7a><section class="VPSidebarItem level-0 has-active" data-v-405a2b7a data-v-02ce3139><div class="item" role="button" tabindex="0" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><h2 class="text" data-v-02ce3139>æ¯æ—¥é˜…è¯»</h2><!----></div><div class="items" data-v-02ce3139><!--[--><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-04-11/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>å‰ç«¯å¸¸è§çš„å®‰å…¨æ”»å‡»æ–¹å¼ã€åŸç†ã€ä»¥åŠå¦‚ä½•é˜²æŠ¤ï¼</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-04-12/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>ä¸ºä»€ä¹ˆéœ€è¦ç¼“å­˜</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-04-15/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>é¢è¯•å®˜ï¼šVue3ä¸­ä»€ä¹ˆæ˜¯Reactiveçš„æ‡’å“åº”æ€§ï¼Ÿ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-04-16/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>ææ‡‚ Vue3 ä¸­çš„å„ç§ ref: toRef,toRefs,isRef,unref...</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-04-17/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>åŸºäºnginx+ffmpeg+vue3+TypeScriptåœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºç›‘æ§çš„å®æ—¶ç”»é¢</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-04-18/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>é¢è¯•å®˜ï¼šåªçŸ¥é“v-modelæ˜¯modelValueè¯­æ³•ç³–ï¼Œé‚£ä½ å¯ä»¥èµ°äº†</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-04-23/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>TypeScriptå¾ˆéº»çƒ¦ğŸ’”ï¼Œä¸æƒ³ä½¿ç”¨ï¼</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-04-24/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>ä¸€æ–‡æŒæ¡ TS é«˜çº§ç±»å‹ç¼–ç¨‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-05-06/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>å‰ç«¯è§†é¢‘äººåƒå®æ—¶æ•è·æŠ€æœ¯,è¶…å¹²è´§!!!</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-05-07/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>5åˆ†é’Ÿå¸¦ä½ äº†è§£ã€å‰ç«¯è£…é¥°å™¨ã€‘ï¼Œâ€œé«˜å¤§ä¸Šâ€çš„â€œåŸºç¡€çŸ¥è¯†â€</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-05-15/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>å¼€å‘é˜¶æ®µï¼è·¨åŸŸé—®é¢˜å¤šç§è§£å†³æ–¹æ¡ˆçš„ç²¾åæ€»ç»“</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-05-17/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>ES7ã€ES8ã€ES9ã€ES10ã€ES11ã€ES12éƒ½å¢åŠ äº†å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-05-23/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>å‰ç«¯éœ€è¦çŸ¥é“çš„ç¼“å­˜çŸ¥è¯†æ€»ç»“</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-05-30/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>é¢†å¯¼è¢«æˆ‘çš„èŠ±å¼console.logå¸å¼•äº†ï¼ç›´æ¥å†™å…¥å…¬å¸å…¬å…±åº“ï¼</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-05-31/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>èµ¶å¿«æ”¶è—ï¼å…¨ç½‘æœ€ä½³websocketå°è£…ï¼šå®Œç¾æ”¯æŒæ–­ç½‘é‡è¿ã€è‡ªåŠ¨å¿ƒè·³ï¼</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-06-07/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>CSS åŠ¨ç”»ä»å…¥é—¨åˆ°é«˜æ‰‹!</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-06-13/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>1000ä¸ªåˆ¤æ–­æ¡ä»¶éš¾é“è¦å†™äº†1000ä¸ª if ? ä¸€æ–‡æ•™ä½ å¦‚ä½•å®ç°åˆ†æ”¯ä¼˜åŒ–</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-06-14/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>åœ¨ web åœ°å›¾ä¸Šçš„è¸©å‘æŒ‡å—</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-06-21/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>ä¸€ä¸ªreduceè¿˜èƒ½ç©å‡ºè¿™ä¹ˆå¤šèŠ±æ ·å„¿ï¼Ÿä¸­é«˜çº§å‰ç«¯éƒ½çŸ¥é“çš„reduceå‡½æ•°é«˜çº§ç”¨æ³•</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-07-03/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>ä¸è¦å†å†™æ»¡å±importå¯¼å…¥å•¦ï¼</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-02ce3139 data-v-02ce3139><div class="item" data-v-02ce3139><div class="indicator" data-v-02ce3139></div><a class="VPLink link link" href="/jiang225638.github.io/excellentArticle/2024-08-09/" data-v-02ce3139><!--[--><p class="text" data-v-02ce3139>Vue3 ç»„ä»¶å°è£…çš„ä¸€äº›æŠ€å·§å’Œå¿ƒå¾—!</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-f9cdd47e data-v-047fda65><div class="VPDoc has-sidebar has-aside" data-v-047fda65 data-v-d7a61cef><!--[--><!--]--><div class="container" data-v-d7a61cef><div class="aside" data-v-d7a61cef><div class="aside-curtain" data-v-d7a61cef></div><div class="aside-container" data-v-d7a61cef><div class="aside-content" data-v-d7a61cef><div class="VPDocAside" data-v-d7a61cef data-v-501d49b5><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-501d49b5 data-v-a219c8be><div class="content" data-v-a219c8be><div class="outline-marker" data-v-a219c8be></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a219c8be>æœ¬é¡µç›®å½•</div><ul class="VPDocOutlineItem root" data-v-a219c8be data-v-c0cf3599><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-501d49b5></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-d7a61cef><div class="content-container" data-v-d7a61cef><!--[--><!--]--><main class="main" data-v-d7a61cef><div style="position:relative;" class="vp-doc _jiang225638_github_io_excellentArticle_2024-04-16_" data-v-d7a61cef><div><h1 id="ææ‡‚-vue3-ä¸­çš„å„ç§-ref-toref-torefs-isref-unref" tabindex="-1">ææ‡‚ Vue3 ä¸­çš„å„ç§ ref: toRef,toRefs,isRef,unref... <a class="header-anchor" href="#ææ‡‚-vue3-ä¸­çš„å„ç§-ref-toref-torefs-isref-unref" aria-label="Permalink to &quot;ææ‡‚ Vue3 ä¸­çš„å„ç§ ref: toRef,toRefs,isRef,unref...&quot;">â€‹</a></h1><p>åœ¨ Vue3 ä¸­ï¼Œæœ‰è®¸å¤šä¸å“åº”å¼ç›¸å…³çš„å‡½æ•°ï¼Œä¾‹å¦‚ toRefã€toRefsã€isRefã€unref ç­‰ç­‰ã€‚åˆç†åœ°ä½¿ç”¨è¿™äº›å‡½æ•°å¯ä»¥åœ¨å®é™…å¼€å‘ä¸­å¤§å¤§æé«˜æ•ˆç‡ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»è¿™äº›å‡½æ•°çš„ç”¨æ³•ï¼Œè®©æˆ‘ä»¬åœ¨å®é™…å¼€å‘ä¸­çŸ¥é“åº”è¯¥ä½¿ç”¨å“ªäº› API å¹¶èƒ½å¤Ÿç†Ÿç»ƒåœ°å›ç­”é¢è¯•å®˜çš„ç›¸å…³é—®é¢˜ã€‚</p><h2 id="ref" tabindex="-1"><strong>ref()</strong> <a class="header-anchor" href="#ref" aria-label="Permalink to &quot;**ref()**&quot;">â€‹</a></h2><p>å¤§å®¶å¯¹äº ref è¿™ä¸ª API è‚¯å®šéƒ½ä¸é™Œç”Ÿã€‚åœ¨ Vue3 ä¸­ç»å¸¸ä¼šç”¨åˆ°å®ƒã€‚å®ƒçš„ä½œç”¨æ˜¯æ¥æ”¶ä¸€ä¸ªå€¼å¹¶è¿”å›ä¸€ä¸ªå“åº”å¼çš„å¯¹è±¡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡.value å±æ€§æ¥è®¿é—®å’Œä¿®æ”¹è¿™ä¸ªå€¼ã€‚åœ¨æ¨¡æ¿ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœç•¥.valueï¼Œä¾‹å¦‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œå½“ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œé¡µé¢ä¸­çš„ count ä¼šå“åº”å¼åœ°æ›´æ”¹ã€‚</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;template&gt;</span></span>
<span class="line"><span>    &lt;div&gt;</span></span>
<span class="line"><span>        {{ count }}</span></span>
<span class="line"><span>        &lt;button @click=&quot;addCount&quot;&gt;+1&lt;/button&gt;</span></span>
<span class="line"><span>    &lt;/div&gt;</span></span>
<span class="line"><span>&lt;/template&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;script lang=&#39;ts&#39; setup&gt;</span></span>
<span class="line"><span>import { ref } from &quot;vue&quot;</span></span>
<span class="line"><span>const count = ref(1)</span></span>
<span class="line"><span>const addCount = () =&gt; {</span></span>
<span class="line"><span>    count.value++</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>&lt;/script&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="toref" tabindex="-1"><strong>toRef</strong> <a class="header-anchor" href="#toref" aria-label="Permalink to &quot;**toRef**&quot;">â€‹</a></h2><p>toRef å¯ä»¥æ ¹æ®ä¸€ä¸ªå“åº”å¼å¯¹è±¡ä¸­çš„ä¸€ä¸ªå±æ€§,åˆ›å»ºä¸€ä¸ªå“åº”å¼çš„ refã€‚åŒæ—¶è¿™ä¸ª ref å’ŒåŸå¯¹è±¡ä¸­çš„å±æ€§ä¿æŒåŒæ­¥,æ”¹å˜åŸå¯¹è±¡å±æ€§çš„å€¼è¿™ä¸ª ref ä¼šè·Ÿç€æ”¹å˜,åä¹‹æ”¹å˜è¿™ä¸ª ref çš„å€¼åŸå¯¹è±¡å±æ€§å€¼ä¹Ÿä¼šæ”¹å˜,å®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°,ä¸€ä¸ªæ˜¯å“åº”å¼å¯¹åº”,å¦ä¸€ä¸ªåˆ™æ˜¯å±æ€§å€¼,ä¾‹å¦‚ä¸‹é¢ä»£ç </p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;template&gt;</span></span>
<span class="line"><span>    &lt;div&gt;</span></span>
<span class="line"><span>        {{ count.a }}</span></span>
<span class="line"><span>        {{ a }}</span></span>
<span class="line"><span>        &lt;button @click=&quot;addCount&quot;&gt;+1&lt;/button&gt;</span></span>
<span class="line"><span>    &lt;/div&gt;</span></span>
<span class="line"><span>&lt;/template&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;script lang=&#39;ts&#39; setup&gt;</span></span>
<span class="line"><span>import { ref, toRef } from &quot;vue&quot;</span></span>
<span class="line"><span>const count = ref({</span></span>
<span class="line"><span>    a: 1,</span></span>
<span class="line"><span>    b: 2</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>const a = toRef(count.value, &#39;a&#39;)</span></span>
<span class="line"><span>const addCount = () =&gt; {</span></span>
<span class="line"><span>    a.value++</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>&lt;/script&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>ç‚¹å‡»æŒ‰é’®çš„æ—¶å€™ä¿®æ”¹äº† a çš„å€¼,æ­¤æ—¶ count ä¸­çš„ a ä¹Ÿä¼šè·Ÿç€ä¿®æ”¹,å½“ç„¶è¿™é‡Œçš„ count ä¹Ÿå¯ä»¥ç”¨ reactive</p><p><img src="/jiang225638.github.io/assets/excellentArticle/2024-04-16/640.gif" alt="medium-zoom">GIF.gif</p><h2 id="torefs" tabindex="-1"><strong>toRefs</strong> <a class="header-anchor" href="#torefs" aria-label="Permalink to &quot;**toRefs**&quot;">â€‹</a></h2><p>toRefs å®ƒå¯ä»¥å°†ä¸€ä¸ªå“åº”å¼å¯¹è±¡è½¬æˆæ™®é€šå¯¹è±¡,è€Œè¿™ä¸ªæ™®é€šå¯¹è±¡çš„æ¯ä¸ªå±æ€§éƒ½æ˜¯å“åº”å¼çš„ ref</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;template&gt;</span></span>
<span class="line"><span>    &lt;div&gt;</span></span>
<span class="line"><span>        {{ count.a }}</span></span>
<span class="line"><span>        {{ countAsRefs.a }}</span></span>
<span class="line"><span>        &lt;button @click=&quot;addCount&quot;&gt;+1&lt;/button&gt;</span></span>
<span class="line"><span>    &lt;/div&gt;</span></span>
<span class="line"><span>&lt;/template&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;script lang=&#39;ts&#39; setup&gt;</span></span>
<span class="line"><span>import { reactive, toRefs } from &quot;vue&quot;</span></span>
<span class="line"><span>const count = reactive({</span></span>
<span class="line"><span>    a: 1,</span></span>
<span class="line"><span>    b: 2</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>const countAsRefs = toRefs(count)</span></span>
<span class="line"><span>const addCount = () =&gt; {</span></span>
<span class="line"><span>    countAsRefs.a.value++</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;/script&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>æ­¤æ—¶ä»£ç ä¸­çš„<code>countAsRefs</code>ç±»å‹ä¸º</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>{</span></span>
<span class="line"><span>  a: Ref&lt;number&gt;,</span></span>
<span class="line"><span>  b: Ref&lt;number&gt;</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å®ƒçš„å±æ€§ a å’Œ b éƒ½æ˜¯å“åº”å¼çš„ ref å¯¹è±¡,åŒæ ·çš„å®ƒä»¬å’ŒåŸå¯¹è±¡çš„ count çš„å±æ€§ä¹Ÿæ˜¯ä¿æŒåŒæ­¥çš„</p><p><img src="/jiang225638.github.io/assets/excellentArticle/2024-04-16/640.gif" alt="medium-zoom">GIF.gif</p><p>æ ¹æ®å®ƒçš„ç‰¹æ€§æˆ‘ä»¬é€šå¸¸ç”¨å®ƒæ¥è§£æ„ä¸€ä¸ªå“åº”å¼å¯¹è±¡è€Œä¸ä¼šè®©å…¶å¤±å»å“åº”å¼</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import { reactive, toRefs } from &quot;vue&quot;;</span></span>
<span class="line"><span>const count = reactive({</span></span>
<span class="line"><span>  a: 1,</span></span>
<span class="line"><span>  b: 2,</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>const { a, b } = toRefs(count);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>æ­¤æ—¶çš„ a å’Œ b éƒ½æ˜¯ä¸€ä¸ªå“åº”å¼çš„ ref å¯¹è±¡,å¹¶å’ŒåŸå¯¹è±¡çš„ a å’Œ b å±æ€§ä¿æŒåŒæ­¥</p><h2 id="isref" tabindex="-1"><strong>isRef()</strong> <a class="header-anchor" href="#isref" aria-label="Permalink to &quot;**isRef()**&quot;">â€‹</a></h2><p>isRef é¡¾åæ€ä¹‰å®ƒæ˜¯ç”¨æ¥åˆ¤æ–­æŸä¸ªå€¼æ˜¯å¦æ˜¯ ref,æ³¨æ„:å®ƒåˆ¤æ–­ä¸äº†è¿™ä¸ªå€¼æ˜¯ä¸æ˜¯ reactive(å¯ä»¥ä½¿ç”¨ isReactive åˆ¤æ–­)</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import { reactive, isRef, ref } from &quot;vue&quot;;</span></span>
<span class="line"><span>const count = ref(1);</span></span>
<span class="line"><span>const testObj = reactive({</span></span>
<span class="line"><span>  a: 1,</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>console.log(isRef(count)); //true</span></span>
<span class="line"><span>console.log(isRef(testObj)); //false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="unref" tabindex="-1"><strong>unref()</strong> <a class="header-anchor" href="#unref" aria-label="Permalink to &quot;**unref()**&quot;">â€‹</a></h2><p>å…¶å®å®ƒæ˜¯ä¸€ä¸ªè¯­æ³•ç³–</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>val = isRef(val) ? val.value : val;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å¦‚æœæ˜¯ ref åˆ™è¿”å›å®ƒçš„å†…éƒ¨å€¼,å¦åˆ™åˆ™è¿”å›å®ƒæœ¬èº«ã€‚é€šè¿‡è¿™ä¸ªè¯­æ³•ç³–æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå®ƒå¯ä»¥å¯¹å“åº”å¼å¯¹è±¡è§£é™¤å“åº”å¼å¼•ç”¨,æ¯”å¦‚æˆ‘ä»¬åªæƒ³è·å–ä¸€ä¸ªå“åº”å¼çš„å€¼,ä½†ä¸æƒ³è¦å®ƒçš„å“åº”å¼å¯ä»¥ä½¿ç”¨å®ƒè§£é™¤å¼•ç”¨ã€‚ ä¾‹å¦‚</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;template&gt;</span></span>
<span class="line"><span>    &lt;div&gt;</span></span>
<span class="line"><span>        {{ unRefAsCount }}</span></span>
<span class="line"><span>        {{ count }}</span></span>
<span class="line"><span>        &lt;button @click=&quot;addCount&quot;&gt;+1&lt;/button&gt;</span></span>
<span class="line"><span>    &lt;/div&gt;</span></span>
<span class="line"><span>&lt;/template&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;script lang=&#39;ts&#39; setup&gt;</span></span>
<span class="line"><span>import { unref, ref } from &quot;vue&quot;</span></span>
<span class="line"><span>const count = ref(1)</span></span>
<span class="line"><span>let unRefAsCount = unref(count)</span></span>
<span class="line"><span>const addCount = () =&gt; {</span></span>
<span class="line"><span>    count.value++</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>&lt;/script&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>ä»£ç ä¸­çš„ unRefAsCount æ˜¯ä¸å…·å¤‡å“åº”å¼çš„</p><p><img src="/jiang225638.github.io/assets/excellentArticle/2024-04-16/640-1713258966057-1.gif" alt="medium-zoom">GIF5.gif</p><h2 id="shallowref" tabindex="-1"><strong>shallowRef</strong> <a class="header-anchor" href="#shallowref" aria-label="Permalink to &quot;**shallowRef**&quot;">â€‹</a></h2><p>é€šè¿‡ç¿»è¯‘æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå®ƒæ˜¯æµ…å±‚çš„ ref,ä»€ä¹ˆæ˜¯æµ…å±‚çš„ ref å‘¢? ä¸ ref ä¸åŒçš„æ˜¯åªæœ‰.value æ˜¯å“åº”å¼çš„,å†æ·±å±‚çš„å±æ€§åˆ™ä¸å…·å¤‡å“åº”å¼</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;template&gt;</span></span>
<span class="line"><span>    &lt;div&gt;</span></span>
<span class="line"><span>        {{ shallowObj.a }}</span></span>
<span class="line"><span>        &lt;button @click=&quot;addCount&quot;&gt; +1&lt;/button&gt;</span></span>
<span class="line"><span>    &lt;/div&gt;</span></span>
<span class="line"><span>&lt;/template&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;script lang=&#39;ts&#39; setup&gt;</span></span>
<span class="line"><span>import { shallowRef } from &quot;vue&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const shallowObj = shallowRef({</span></span>
<span class="line"><span>    a: 1</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>const addCount = () =&gt; {</span></span>
<span class="line"><span>    //ä¸ä¼šè§¦å‘é¡µé¢æ›´æ–°</span></span>
<span class="line"><span>    shallowObj.value.a++</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>&lt;/script&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><img src="/jiang225638.github.io/assets/excellentArticle/2024-04-16/640-1713258966057-2.gif" alt="medium-zoom">GIF6.gif</p><p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬å°† addCount æ”¹ä¸ºä¿®æ”¹æ•´ä¸ª.value å°±ä¼šè§¦å‘å“åº”å¼äº†</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>const addCount = () =&gt; {</span></span>
<span class="line"><span>  let temp = shallowObj.value.a;</span></span>
<span class="line"><span>  temp++;</span></span>
<span class="line"><span>  shallowObj.value = {</span></span>
<span class="line"><span>    a: temp,</span></span>
<span class="line"><span>  };</span></span>
<span class="line"><span>};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="/jiang225638.github.io/assets/excellentArticle/2024-04-16/640-1713258966057-3.gif" alt="medium-zoom">GIF7.gif</p><h2 id="triggerref" tabindex="-1"><strong>triggerRef</strong> <a class="header-anchor" href="#triggerref" aria-label="Permalink to &quot;**triggerRef**&quot;">â€‹</a></h2><p>å®ƒå¯ä»¥è®©æµ…å±‚çš„ ref å³ shallowRef æ·±å±‚å±æ€§å‘ç”Ÿæ”¹å˜çš„æ—¶å€™å¼ºåˆ¶è§¦å‘æ›´æ”¹,æ¯”å¦‚ä¸Šé¢è§¦å‘ä¸äº†å“åº”å¼çš„ä»£ç ç¤ºä¾‹åŠ å…¥<code>triggerRef</code>å</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;template&gt;</span></span>
<span class="line"><span>    &lt;div&gt;</span></span>
<span class="line"><span>        {{ shallowObj.a }}</span></span>
<span class="line"><span>        &lt;button @click=&quot;addCount&quot;&gt; +1&lt;/button&gt;</span></span>
<span class="line"><span>    &lt;/div&gt;</span></span>
<span class="line"><span>&lt;/template&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;script lang=&#39;ts&#39; setup&gt;</span></span>
<span class="line"><span>import { shallowRef, triggerRef } from &quot;vue&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const shallowObj = shallowRef({</span></span>
<span class="line"><span>    a: 1</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const addCount = () =&gt; {</span></span>
<span class="line"><span>    shallowObj.value.a++</span></span>
<span class="line"><span>    //åŠ å…¥triggerRefå¼ºåˆ¶è§¦å‘æ›´æ”¹</span></span>
<span class="line"><span>    triggerRef(shallowObj)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>&lt;/script&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>æ­¤æ—¶å†çœ‹é¡µé¢æ•ˆæœåˆ™è§¦å‘äº†å“åº”å¼</p><p><img src="/jiang225638.github.io/assets/excellentArticle/2024-04-16/640-1713258966057-3.gif" alt="medium-zoom">GIF7.gif</p><h2 id="customref" tabindex="-1"><strong>customRef</strong> <a class="header-anchor" href="#customref" aria-label="Permalink to &quot;**customRef**&quot;">â€‹</a></h2><p>é¡¾åæ€ä¹‰å®ƒæ˜¯è‡ªå®šä¹‰çš„ ref,æˆ‘ä»¬å¯ä»¥é€šè¿‡ customRef æ¥æ˜¾å¼çš„è¿½è¸ªæŸä¸ªå€¼çš„å“åº”å¼å˜åŒ–,å®ƒæ¥æ”¶ä¸€ä¸ªå‡½æ•°,è¿™ä¸ªå‡½æ•°æ¥å— track å’Œ trigger ä¸¤ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¸¦æœ‰ get å’Œ set æ–¹æ³•çš„å¯¹è±¡ã€‚æ¯”å¦‚ä¸‹é¢å°è£…ä¸€ä¸ªè‡ªå®šä¹‰çš„å“åº”å¼å¯¹è±¡ myRef,åŒæ—¶æ§åˆ¶å®ƒåªæœ‰å€¼å°äº 4 æ‰ä¼šè§¦å‘å“åº”å¼</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;template&gt;</span></span>
<span class="line"><span>    &lt;div&gt;</span></span>
<span class="line"><span>        {{ count }}</span></span>
<span class="line"><span>        &lt;button @click=&quot;addCount&quot;&gt; +1&lt;/button&gt;</span></span>
<span class="line"><span>    &lt;/div&gt;</span></span>
<span class="line"><span>&lt;/template&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;script lang=&#39;ts&#39; setup&gt;</span></span>
<span class="line"><span>import { customRef } from &quot;vue&quot;</span></span>
<span class="line"><span>const myRef = (value: number) =&gt; {</span></span>
<span class="line"><span>    const customValue = customRef((track, trigger) =&gt; {</span></span>
<span class="line"><span>        return {</span></span>
<span class="line"><span>            get() {</span></span>
<span class="line"><span>                //é€šçŸ¥vueéœ€è¦è¿½è¸ªåç»­å†…å®¹çš„å˜åŒ–,è¿™é‡Œå¯ä»¥è‡ªç”±æ§åˆ¶</span></span>
<span class="line"><span>                track()</span></span>
<span class="line"><span>                return value</span></span>
<span class="line"><span>            },</span></span>
<span class="line"><span>            set(newValue) {</span></span>
<span class="line"><span>                console.log(newValue);//myRef.value=xxxçš„xxxå€¼</span></span>
<span class="line"><span>                //åŠ triggeråˆ™è§¦å‘å“åº”å¼,é€šçŸ¥vueæ›´æ–°é¡µé¢,è¿™é‡Œå¯ä»¥è‡ªç”±æ§åˆ¶æ˜¯å¦åŠ trigger</span></span>
<span class="line"><span>                if(value&lt;4)  trigger()</span></span>
<span class="line"><span>                value = newValue</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>    return customValue</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const count = myRef(0)</span></span>
<span class="line"><span>const addCount = () =&gt; {</span></span>
<span class="line"><span>    count.value++</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>&lt;/script&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p><img src="/jiang225638.github.io/assets/excellentArticle/2024-04-16/640-1713258966057-4.gif" alt="medium-zoom">GIF7.gif</p><p>å¯ä»¥çœ‹åˆ°å½“ count å¤§äº 4 çš„æ—¶å€™ä¾¿å¤±å»äº†å“åº”å¼</p><h2 id="æ€»ç»“" tabindex="-1"><strong>æ€»ç»“</strong> <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to &quot;**æ€»ç»“**&quot;">â€‹</a></h2><p>æœ¬ç¯‡æ–‡ç« è¯¦ç»†ä»‹ç»äº† Vue3 ä¸­å„ç§ ref çš„ç”¨æ³•,å…¶ä¸­åŒ…æ‹¬</p><ul><li>ref(): æ¥æ”¶ä¸€ä¸ªå€¼å¹¶è¿”å›ä¸€ä¸ªå“åº”å¼çš„å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨.value å±æ€§æ¥è®¿é—®å’Œä¿®æ”¹è¿™ä¸ªå€¼ã€‚</li><li>toRef(obj, key): æ ¹æ®ä¸€ä¸ªå“åº”å¼å¯¹è±¡ä¸­çš„ä¸€ä¸ªå±æ€§ï¼Œåˆ›å»ºä¸€ä¸ªå“åº”å¼çš„ refï¼Œå¹¶ä¸”è¯¥ ref å’ŒåŸå¯¹è±¡ä¸­çš„å±æ€§ä¿æŒåŒæ­¥ã€‚ -toRefs(obj): å°†ä¸€ä¸ªå“åº”å¼å¯¹è±¡è½¬æ¢æˆä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œå…¶ä¸­æ™®é€šå¯¹è±¡çš„æ¯ä¸ªå±æ€§éƒ½æ˜¯å“åº”å¼çš„ refã€‚</li><li>isRef(value): åˆ¤æ–­æŸä¸ªå€¼æ˜¯å¦æ˜¯ ref å¯¹è±¡ã€‚</li><li>unref(value): ç”¨äºè§£é™¤å“åº”å¼å¼•ç”¨</li><li>shallowRef(value): åˆ›å»ºä¸€ä¸ªæµ…å±‚çš„ refï¼Œåªæœ‰ value å±æ€§æ˜¯å“åº”å¼çš„ï¼Œæ·±å±‚çš„å±æ€§ä¸å…·å¤‡å“åº”å¼ã€‚</li><li>triggerRef(ref): å¼ºåˆ¶æµ…å±‚çš„ ref å‘ç”Ÿæ”¹å˜æ—¶è§¦å‘å“åº”å¼ã€‚</li><li>customRef(factory): è‡ªå®šä¹‰ ref å¯¹è±¡ï¼Œå¯ä»¥æ˜¾å¼åœ°è¿½è¸ªæŸä¸ªå€¼çš„å“åº”å¼å˜åŒ–ã€‚</li></ul></div></div></main><footer class="VPDocFooter" data-v-d7a61cef data-v-4a102728><!--[--><!--]--><div class="edit-info" data-v-4a102728><!----><div class="last-updated" data-v-4a102728><p class="VPLastUpdated" data-v-4a102728 data-v-fb372fef>ä¸Šæ¬¡æ›´æ–°: <time datetime="2024-04-16T09:23:22.000Z" data-v-fb372fef></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-4a102728><span class="visually-hidden" id="doc-footer-aria-label" data-v-4a102728>Pager</span><div class="pager" data-v-4a102728><a class="VPLink link pager-link prev" href="/jiang225638.github.io/excellentArticle/2024-04-15/" data-v-4a102728><!--[--><span class="desc" data-v-4a102728>ä¸Šä¸€ç¯‡</span><span class="title" data-v-4a102728>é¢è¯•å®˜ï¼šVue3ä¸­ä»€ä¹ˆæ˜¯Reactiveçš„æ‡’å“åº”æ€§ï¼Ÿ</span><!--]--></a></div><div class="pager" data-v-4a102728><a class="VPLink link pager-link next" href="/jiang225638.github.io/excellentArticle/2024-04-17/" data-v-4a102728><!--[--><span class="desc" data-v-4a102728>ä¸‹ä¸€ç¯‡</span><span class="title" data-v-4a102728>åŸºäºnginx+ffmpeg+vue3+TypeScriptåœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºç›‘æ§çš„å®æ—¶ç”»é¢</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"css_index.md\":\"B1F7v3D6\",\"dailyrecord_index.md\":\"B_Gg2H0z\",\"excellentarticle_2024-04-11_index.md\":\"D2OaBz_I\",\"excellentarticle_2024-04-12_index.md\":\"D7tXnfO8\",\"excellentarticle_2024-04-15_index.md\":\"DQVjo1O5\",\"excellentarticle_2024-04-16_index.md\":\"lpL5f8Mi\",\"excellentarticle_2024-04-17_index.md\":\"LQhs0L7N\",\"excellentarticle_2024-04-18_index.md\":\"BktRzo1N\",\"excellentarticle_2024-04-23_index.md\":\"DF1zAeU8\",\"excellentarticle_2024-04-24_index.md\":\"Cxvn-wTc\",\"excellentarticle_2024-05-06_index.md\":\"ClAiog6s\",\"excellentarticle_2024-05-07_index.md\":\"BmJjmrgA\",\"excellentarticle_2024-05-15_index.md\":\"CKMHztUp\",\"excellentarticle_2024-05-17_index.md\":\"DCnBrAY0\",\"excellentarticle_2024-05-23_index.md\":\"B3ThOvQz\",\"excellentarticle_2024-05-30_index.md\":\"Bp395Sjd\",\"excellentarticle_2024-05-31_index.md\":\"CMJ6mLQ5\",\"excellentarticle_2024-06-07_index.md\":\"CaIQFq16\",\"excellentarticle_2024-06-13_index.md\":\"C2RBIzfn\",\"excellentarticle_2024-06-14_index.md\":\"CXFWze5g\",\"excellentarticle_2024-06-21_index.md\":\"CR84P3bB\",\"excellentarticle_2024-07-03_index.md\":\"HfuhF4Ux\",\"excellentarticle_2024-08-09_index.md\":\"DU2IbRYV\",\"excellentarticle_index.md\":\"Cl5lx_Ax\",\"html_index.md\":\"B94ogtbu\",\"index.md\":\"CR_CrMBE\",\"java_2024-06-26_index.md\":\"CIIryZ3z\",\"js_2024-04-19_index.md\":\"DMKQQELn\",\"js_2024-05-23_index.md\":\"bmI2PRQJ\",\"js_2024-06-28_index.md\":\"DtTPSdc0\",\"js_index.md\":\"DlPqckPs\",\"nav_index.md\":\"BNB35zg7\",\"nestjs_base_index.md\":\"CxPDl764\",\"nestjs_index.md\":\"VS2ki2Jh\",\"nestjs_module_index.md\":\"BeV-TnOz\",\"nestjs_prisma_index.md\":\"CjDVlbbH\",\"nestjs_proconfig_index.md\":\"DJA9zI6A\",\"nestjs_providers_index.md\":\"Dbbm9NRl\",\"react_index.md\":\"BGip-dNn\",\"rotelearning_index.md\":\"CdaVN2Mp\",\"rotelearning_javascript_index.md\":\"Cl9H-gU1\",\"rotelearning_react_index.md\":\"QxMKxj93\",\"rotelearning_vue_index.md\":\"N2t4SGP1\",\"test.md\":\"Bz2F9C5n\",\"test_index.md\":\"BNgS6LYC\",\"thewayforward_ihaveroadbythailand_index.md\":\"Dzt3yee8\",\"thewayforward_index.md\":\"CMzNZBTa\",\"ts_index.md\":\"B56bKW7s\",\"vue_index.md\":\"Bd3YSCct\",\"workexperience_index.md\":\"BV4BU769\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"é¦’å¤´é¢åŒ…éƒ½æƒ³è¦\",\"description\":\"å•¥éƒ½ä¸ä¼šï¼Œåªæƒ³èººå¹³ï¼Œå¬å¬éŸ³ä¹ï¼Œæ™’æ™’å¤ªé˜³\",\"base\":\"/jiang225638.github.io/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"i18nRouting\":false,\"logo\":\"/logo1.gif\",\"nav\":[{\"text\":\"çœ‹ç©¿å°˜ä¸–\",\"items\":[{\"text\":\"js\",\"link\":\"/js/\"},{\"text\":\"TS\",\"link\":\"/ts/\"},{\"text\":\"css\",\"link\":\"/css/\"},{\"text\":\"html\",\"link\":\"/html\"},{\"text\":\"vue\",\"link\":\"/vue/\"},{\"text\":\"react\",\"link\":\"/react/\"},{\"text\":\"nestjs\",\"link\":\"/nestjs/base/\"},{\"text\":\"JAVA\",\"link\":\"/java/2024-06-26/\"}]},{\"text\":\"é˜…å°½ç¹å\",\"items\":[{\"text\":\"è¯»è¿‡çš„ç²¾å½©\",\"link\":\"/excellentArticle/\"}]}],\"sidebar\":{\"/excellentArticle/\":[{\"text\":\"æ¯æ—¥é˜…è¯»\",\"items\":[{\"text\":\"å‰ç«¯å¸¸è§çš„å®‰å…¨æ”»å‡»æ–¹å¼ã€åŸç†ã€ä»¥åŠå¦‚ä½•é˜²æŠ¤ï¼\",\"link\":\"/excellentArticle/2024-04-11/\"},{\"text\":\"ä¸ºä»€ä¹ˆéœ€è¦ç¼“å­˜\",\"link\":\"/excellentArticle/2024-04-12/\"},{\"text\":\"é¢è¯•å®˜ï¼šVue3ä¸­ä»€ä¹ˆæ˜¯Reactiveçš„æ‡’å“åº”æ€§ï¼Ÿ\",\"link\":\"/excellentArticle/2024-04-15/\"},{\"text\":\"ææ‡‚ Vue3 ä¸­çš„å„ç§ ref: toRef,toRefs,isRef,unref...\",\"link\":\"/excellentArticle/2024-04-16/\"},{\"text\":\"åŸºäºnginx+ffmpeg+vue3+TypeScriptåœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºç›‘æ§çš„å®æ—¶ç”»é¢\",\"link\":\"/excellentArticle/2024-04-17/\"},{\"text\":\"é¢è¯•å®˜ï¼šåªçŸ¥é“v-modelæ˜¯modelValueè¯­æ³•ç³–ï¼Œé‚£ä½ å¯ä»¥èµ°äº†\",\"link\":\"/excellentArticle/2024-04-18/\"},{\"text\":\"TypeScriptå¾ˆéº»çƒ¦ğŸ’”ï¼Œä¸æƒ³ä½¿ç”¨ï¼\",\"link\":\"/excellentArticle/2024-04-23/\"},{\"text\":\"ä¸€æ–‡æŒæ¡ TS é«˜çº§ç±»å‹ç¼–ç¨‹\",\"link\":\"/excellentArticle/2024-04-24/\"},{\"text\":\"å‰ç«¯è§†é¢‘äººåƒå®æ—¶æ•è·æŠ€æœ¯,è¶…å¹²è´§!!!\",\"link\":\"/excellentArticle/2024-05-06/\"},{\"text\":\"5åˆ†é’Ÿå¸¦ä½ äº†è§£ã€å‰ç«¯è£…é¥°å™¨ã€‘ï¼Œâ€œé«˜å¤§ä¸Šâ€çš„â€œåŸºç¡€çŸ¥è¯†â€\",\"link\":\"/excellentArticle/2024-05-07/\"},{\"text\":\"å¼€å‘é˜¶æ®µï¼è·¨åŸŸé—®é¢˜å¤šç§è§£å†³æ–¹æ¡ˆçš„ç²¾åæ€»ç»“\",\"link\":\"/excellentArticle/2024-05-15/\"},{\"text\":\"ES7ã€ES8ã€ES9ã€ES10ã€ES11ã€ES12éƒ½å¢åŠ äº†å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ\",\"link\":\"/excellentArticle/2024-05-17/\"},{\"text\":\"å‰ç«¯éœ€è¦çŸ¥é“çš„ç¼“å­˜çŸ¥è¯†æ€»ç»“\",\"link\":\"/excellentArticle/2024-05-23/\"},{\"text\":\"é¢†å¯¼è¢«æˆ‘çš„èŠ±å¼console.logå¸å¼•äº†ï¼ç›´æ¥å†™å…¥å…¬å¸å…¬å…±åº“ï¼\",\"link\":\"/excellentArticle/2024-05-30/\"},{\"text\":\"èµ¶å¿«æ”¶è—ï¼å…¨ç½‘æœ€ä½³websocketå°è£…ï¼šå®Œç¾æ”¯æŒæ–­ç½‘é‡è¿ã€è‡ªåŠ¨å¿ƒè·³ï¼\",\"link\":\"/excellentArticle/2024-05-31/\"},{\"text\":\"CSS åŠ¨ç”»ä»å…¥é—¨åˆ°é«˜æ‰‹!\",\"link\":\"/excellentArticle/2024-06-07/\"},{\"text\":\"1000ä¸ªåˆ¤æ–­æ¡ä»¶éš¾é“è¦å†™äº†1000ä¸ª if ? ä¸€æ–‡æ•™ä½ å¦‚ä½•å®ç°åˆ†æ”¯ä¼˜åŒ–\",\"link\":\"/excellentArticle/2024-06-13/\"},{\"text\":\"åœ¨ web åœ°å›¾ä¸Šçš„è¸©å‘æŒ‡å—\",\"link\":\"/excellentArticle/2024-06-14/\"},{\"text\":\"ä¸€ä¸ªreduceè¿˜èƒ½ç©å‡ºè¿™ä¹ˆå¤šèŠ±æ ·å„¿ï¼Ÿä¸­é«˜çº§å‰ç«¯éƒ½çŸ¥é“çš„reduceå‡½æ•°é«˜çº§ç”¨æ³•\",\"link\":\"/excellentArticle/2024-06-21/\"},{\"text\":\"ä¸è¦å†å†™æ»¡å±importå¯¼å…¥å•¦ï¼\",\"link\":\"/excellentArticle/2024-07-03/\"},{\"text\":\"Vue3 ç»„ä»¶å°è£…çš„ä¸€äº›æŠ€å·§å’Œå¿ƒå¾—!\",\"link\":\"/excellentArticle/2024-08-09/\"}]}],\"/roteLearning/\":[{\"text\":\"éœ€è¦æ­»è®°ç¡¬èƒŒçš„å…«è‚¡\",\"items\":[{\"text\":\"ä¸€ä¸¢ä¸¢vueé¢è¯•é¢˜\",\"link\":\"/roteLearning/vue/\"},{\"text\":\"å¤ä¹ å¤ä¹ 44ä¸ªreactçŸ¥è¯†ç‚¹\",\"link\":\"/roteLearning/react/\"},{\"text\":\"è¿›é˜¶è¿›é˜¶ï¼å¤ä¹ 50ä¸ªJavaScriptã€Œè¿›é˜¶ã€çŸ¥è¯†ç‚¹\",\"link\":\"/roteLearning/javaScript/\"}]}],\"/js/\":[{\"items\":[{\"text\":\"æé«˜å¼€å‘æ•ˆç‡çš„10ä¸ªJavaScriptæŠ€å·§\",\"link\":\"/js/2024-04-19/\"},{\"text\":\"ä¸‡å­—æ€»ç»“ JS æ•°æ®ç»“æ„ä¸å¸¸ç”¨çš„ç®—æ³•\",\"link\":\"/js/2024-05-23/\"},{\"text\":\"ES7ã€ES8ã€ES9ã€ES10ã€ES11ã€ES12æ–°ç‰¹æ€§å¤§å…¨ï¼\",\"link\":\"/js/2024-06-28/\"}]}],\"/nestjs/\":[{\"text\":\"åŸæ–‡è¯·ä¸Šåç›¾äººå®˜ç½‘æŸ¥çœ‹www.houdunren.com\",\"items\":[{\"text\":\"åŸºç¡€çŸ¥è¯†\",\"link\":\"/nestjs/base/\"},{\"text\":\"æä¾›è€…\",\"link\":\"/nestjs/providers/\"},{\"text\":\"æ¨¡å—\",\"link\":\"/nestjs/module/\"},{\"text\":\"é¡¹ç›®é…ç½®\",\"link\":\"/nestjs/proConfig/\"},{\"text\":\"prisma\",\"link\":\"/nestjs/prisma/\"}]}],\"/theWayForward/\":[{\"text\":\"åŸæ–‡è¯·ä¸Šåç›¾äººå®˜ç½‘æŸ¥çœ‹www.houdunren.com\",\"items\":[{\"text\":\"åŸºç¡€çŸ¥è¯†\",\"link\":\"/theWayForward/iHaveRoadbyThailand/\"}]}],\"/java/\":[{\"text\":\"\",\"items\":[{\"text\":\"ç¬¬ä¸€æ¬¡æ¥è§¦\",\"link\":\"/java/2024-06-26/\"}]}]},\"outline\":{\"level\":\"deep\",\"label\":\"æœ¬é¡µç›®å½•\"},\"darkModeSwitchLabel\":\"å¤–è§‚\",\"returnToTopLabel\":\"è¿”å›é¡¶éƒ¨\",\"lastUpdatedText\":\"ä¸Šæ¬¡æ›´æ–°\",\"docFooter\":{\"prev\":\"ä¸Šä¸€ç¯‡\",\"next\":\"ä¸‹ä¸€ç¯‡\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>